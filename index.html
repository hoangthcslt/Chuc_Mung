<!DOCTYPE html> <!-- Khai bÃ¡o Ä‘Ã¢y lÃ  má»™t tÃ i liá»‡u HTML5 tiÃªu chuáº©n -->
<html lang="vi"> <!-- Tháº» gá»‘c cá»§a trang, lang="vi" cho biáº¿t ngÃ´n ngá»¯ lÃ  tiáº¿ng Viá»‡t -->
<head> <!-- Chá»©a cÃ¡c thÃ´ng tin "háº­u trÆ°á»ng", khÃ´ng hiá»ƒn thá»‹ trá»±c tiáº¿p -->
    <meta charset="UTF-8"> <!-- Khai bÃ¡o báº£ng mÃ£ UTF-8 Ä‘á»ƒ hiá»ƒn thá»‹ tiáº¿ng Viá»‡t Ä‘Ãºng -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ráº¥t quan trá»ng: GiÃºp trang web hiá»ƒn thá»‹ Ä‘Ãºng trÃªn má»i thiáº¿t bá»‹, Ä‘áº·c biá»‡t lÃ  Ä‘iá»‡n thoáº¡i -->
    <title>Lá»i Nháº¯n Äáº·c Biá»‡t!</title> <!-- TiÃªu Ä‘á» hiá»ƒn thá»‹ trÃªn tab cá»§a trÃ¬nh duyá»‡t -->
    
    <!-- CÃ¡c dÃ²ng nÃ y dÃ¹ng Ä‘á»ƒ táº£i má»™t font chá»¯ Ä‘áº¹p tá»« Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>

<body> <!-- Chá»©a toÃ n bá»™ ná»™i dung sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ trÃªn trang -->

    <!-- MÃ n hÃ¬nh chá»: Lá»›p phá»§ ban Ä‘áº§u vá»›i nÃºt báº¥m -->
    <div id="start-screen">
        <button id="start-button">Nháº¥n vÃ o Ä‘Ã¢y nhÃ©!</button>
    </div>

    <!-- Tháº» Audio: DÃ¹ng Ä‘á»ƒ chá»©a vÃ  Ä‘iá»u khiá»ƒn file nháº¡c ná»n -->
    <!-- "loop" nghÄ©a lÃ  nháº¡c sáº½ tá»± Ä‘á»™ng phÃ¡t láº¡i khi háº¿t -->
    <!-- "preload="auto" gá»£i Ã½ cho trÃ¬nh duyá»‡t nÃªn táº£i trÆ°á»›c file nháº¡c -->
    <audio id="background-music" loop preload="auto">
        <source src="nhac-nen.mp3" type="audio/mpeg"> <!-- ÄÆ°á»ng dáº«n Ä‘áº¿n file nháº¡c cá»§a báº¡n -->
    </audio>

    <!-- Canvas: Má»™t "táº¥m báº¡t" Ä‘á»ƒ JavaScript váº½ hiá»‡u á»©ng Matrix trÃ¡i tim lÃªn -->
    <canvas id="matrix-canvas"></canvas>

    <!-- Container cho cÃ¡c dÃ²ng chá»¯ ban Ä‘áº§u -->
    <div class="content-container">
        <div class="message-box">
            <p>Gá»­i Ä‘áº¿n: Hoa LinhğŸŒ·</p>
            <!-- CÃ¡c dÃ²ng chá»¯ ban Ä‘áº§u -->
            <p>HÃ´m nay lÃ  ngÃ y dÃ nh cho nhá»¯ng cÃ´ gÃ¡i tuyá»‡t vá»i, vÃ  b lÃ  má»™t trong sá»‘ Ä‘Ã³ ğŸŒ
            <p>ChÃºc báº¡n má»™t ngÃ y 20/10 zui záº»!</p>
            <p>ChÃºc báº¡n luÃ´n vui váº», tÃ­ch cá»±c!</p>
            <p>DÃ¹ lÃ¢u láº¯m rá»“i mÃ¬nh má»›i inbox láº¡i...,</p>
            <p>..nhÆ°ng tui váº«n luÃ´n mong nhá»¯ng Ä‘iá»u tá»‘t Ä‘áº¹p nháº¥t Ä‘áº¿n vá»›i b.</p>
            <p>â¤ï¸</p>
            <p>Cre: p.a.n.d.a - Ê•â€¢á´¥â€¢Ê” <p>
        </div>
    </div>

    <!-- Container rá»—ng, JavaScript sáº½ thÃªm cÃ¡c bÃ´ng hoa vÃ o Ä‘Ã¢y -->
    <div id="flower-container"></div>

    <!-- Container cho dÃ²ng chá»¯ chÃºc má»«ng cuá»‘i cÃ¹ng -->
    <div id="final-message-container">
        <div id="final-message"><h1>ChÃºc má»«ng 20/10</h1></div>
    </div>
    
    <!-- Tháº» script Ä‘á»ƒ chá»©a mÃ£ JavaScript, pháº§n "bá»™ nÃ£o" cá»§a trang -->
    <script>
        // ... ToÃ n bá»™ code JavaScript náº±m á»Ÿ Ä‘Ã¢y ...
    </script>
</body>
</html>
<style>
    /* Reset láº¡i cÃ¡c style máº·c Ä‘á»‹nh cá»§a trÃ¬nh duyá»‡t Ä‘á»ƒ trang web hiá»ƒn thá»‹ nháº¥t quÃ¡n */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Style cho toÃ n bá»™ trang */
    body {
        background-color: #ffdde1; /* MÃ u ná»n há»“ng nháº¡t */
        overflow: hidden; /* áº¨n thanh cuá»™n cá»§a trÃ¬nh duyá»‡t */
        font-family: 'Pacifico', cursive; /* Ãp dá»¥ng font chá»¯ Ä‘áº¹p Ä‘Ã£ táº£i */
    }

    /* --- MÃ€N HÃŒNH CHá»œ BAN Äáº¦U --- */
    #start-screen {
        position: fixed; /* Cá»‘ Ä‘á»‹nh vá»‹ trÃ­, khÃ´ng bá»‹ cuá»™n */
        top: 0; left: 0; width: 100%; height: 100%; /* Phá»§ kÃ­n toÃ n bá»™ mÃ n hÃ¬nh */
        background-color: #ffdde1; /* CÃ¹ng mÃ u ná»n */
        z-index: 100; /* Äáº·t lá»›p nÃ y lÃªn trÃªn cÃ¹ng (sá»‘ cÃ ng lá»›n cÃ ng á»Ÿ trÃªn) */
        display: flex; /* DÃ¹ng Flexbox Ä‘á»ƒ cÄƒn chá»‰nh ná»™i dung */
        justify-content: center; /* CÄƒn giá»¯a theo chiá»u ngang */
        align-items: center; /* CÄƒn giá»¯a theo chiá»u dá»c */
        flex-direction: column; /* Sáº¯p xáº¿p cÃ¡c item theo chiá»u dá»c */
        cursor: pointer; /* Biáº¿n con trá» thÃ nh hÃ¬nh bÃ n tay */
    }

    #start-button {
        padding: 15px 30px; /* Khoáº£ng Ä‘á»‡m bÃªn trong nÃºt */
        font-family: 'Pacifico', cursive; /* DÃ¹ng font chá»¯ Ä‘áº¹p */
        font-size: 1.5em; /* KÃ­ch thÆ°á»›c chá»¯ */
        color: white; /* MÃ u chá»¯ */
        background-color: #ff69b4; /* MÃ u ná»n cá»§a nÃºt */
        border: none; /* Bá» viá»n */
        border-radius: 50px; /* Bo trÃ²n cÃ¡c gÃ³c Ä‘á»ƒ thÃ nh hÃ¬nh viÃªn thuá»‘c */
        cursor: pointer; /* Con trá» hÃ¬nh bÃ n tay */
        box-shadow: 0 5px 15px rgba(0,0,0,0.2); /* Táº¡o bÃ³ng má» cho nÃºt */
        transition: transform 0.2s ease; /* Táº¡o hiá»‡u á»©ng chuyá»ƒn Ä‘á»™ng mÆ°á»£t khi tÆ°Æ¡ng tÃ¡c */
    }
    #start-button:hover { transform: scale(1.05); } /* PhÃ³ng to nÃºt má»™t chÃºt khi di chuá»™t qua */

    /* --- PHáº¦N 1: MATRIX & Lá»œI NHáº®N BAN Äáº¦U --- */
    #matrix-canvas {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; /* Phá»§ kÃ­n mÃ n hÃ¬nh */
        z-index: 1; /* Náº±m á»Ÿ lá»›p dÆ°á»›i (sau lá»›p chá»¯) */
        transition: opacity 1.5s ease-out; /* Hiá»‡u á»©ng má» dáº§n trong 1.5s */
    }
    .content-container {
        display: flex; justify-content: center; align-items: center; /* CÄƒn giá»¯a ná»™i dung */
        height: 100vh; /* Cao báº±ng chiá»u cao mÃ n hÃ¬nh */
        position: relative; /* Äá»ƒ thiáº¿t láº­p z-index */
        z-index: 2; /* Náº±m trÃªn lá»›p canvas */
        padding: 20px; /* Khoáº£ng Ä‘á»‡m trÃ¡nh chá»¯ dÃ­nh sÃ¡t viá»n mÃ n hÃ¬nh */
    }
    .message-box {
        width: 100%; /* Box chá»©a chá»¯ chiáº¿m háº¿t chiá»u rá»™ng */
        text-align: center; /* CÄƒn giá»¯a chá»¯ */
        color: white; /* MÃ u chá»¯ */
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.7), 0 0 20px rgba(236, 13, 13, 0.7); /* Táº¡o hiá»‡u á»©ng chá»¯ phÃ¡t sÃ¡ng */
    }
    
    .message-box p {
        /* font-size: clamp(MIN, IDEAL, MAX) -> KÃ­ch thÆ°á»›c chá»¯ linh hoáº¡t */
        /* MIN: 2.2em -> KhÃ´ng bao giá» nhá» hÆ¡n kÃ­ch thÆ°á»›c nÃ y */
        /* IDEAL: 6vw -> Báº±ng 6% chiá»u rá»™ng mÃ n hÃ¬nh. ÄÃ¢y lÃ  giÃ¡ trá»‹ co giÃ£n */
        /* MAX: 3.5em -> KhÃ´ng bao giá» lá»›n hÆ¡n kÃ­ch thÆ°á»›c nÃ y */
        font-size: clamp(2.2em, 6vw, 3.5em);
        
        margin-bottom: 25px; /* Khoáº£ng cÃ¡ch vá»›i dÃ²ng dÆ°á»›i */
        opacity: 0; /* Máº·c Ä‘á»‹nh áº©n Ä‘i */
        transform: translateY(20px); /* Dá»‹ch chuyá»ƒn xuá»‘ng dÆ°á»›i 20px so vá»›i vá»‹ trÃ­ gá»‘c */
        transition: opacity 1.5s ease-out, transform 1s ease-out; /* Táº¡o hiá»‡u á»©ng xuáº¥t hiá»‡n mÆ°á»£t mÃ  */
    }

    .message-box p.visible { opacity: 1; transform: translateY(0); } /* Style khi dÃ²ng chá»¯ Ä‘Æ°á»£c JS thÃªm class 'visible' -> Hiá»‡n ra vÃ  trÆ°á»£t vá» vá»‹ trÃ­ gá»‘c */
    .fade-out { opacity: 0 !important; } /* Style Ä‘á»ƒ lÃ m má» má»i thá»© Ä‘i, !important Ä‘á»ƒ Æ°u tiÃªn cao nháº¥t */

    /* --- PHáº¦N 2: HOA Ná» & Lá»œI CHÃšC CUá»I --- */
    #flower-container {
        position: fixed; bottom: 0; left: 0; width: 100%; height: 100%; /* Phá»§ kÃ­n mÃ n hÃ¬nh */
        z-index: 3; /* Náº±m trÃªn lá»›p Matrix */
        pointer-events: none; /* Cho phÃ©p click "xuyÃªn qua" lá»›p nÃ y */
    }
    .flower {
        position: absolute; /* Vá»‹ trÃ­ tuyá»‡t Ä‘á»‘i so vá»›i #flower-container */
        bottom: -50px; /* Báº¯t Ä‘áº§u á»Ÿ dÆ°á»›i mÃ n hÃ¬nh */
        font-size: 2em; /* KÃ­ch thÆ°á»›c bÃ´ng hoa */
        opacity: 0; /* Máº·c Ä‘á»‹nh áº©n */
        animation: rise-and-fade linear forwards; /* Ãp dá»¥ng animation tÃªn lÃ  'rise-and-fade' */
    }
    /* Äá»‹nh nghÄ©a animation 'rise-and-fade' */
    @keyframes rise-and-fade {
        0% { transform: translateY(0) scale(0.5); opacity: 0; } /* LÃºc báº¯t Ä‘áº§u: á» vá»‹ trÃ­ gá»‘c, nhá», má» */
        10% { opacity: 1; transform: scale(1); } /* Táº¡i 10% thá»i gian: Hiá»‡n rÃµ, kÃ­ch thÆ°á»›c bÃ¬nh thÆ°á»ng */
        90% { opacity: 1; } /* Giá»¯ nguyÃªn Ä‘áº¿n 90% thá»i gian */
        100% { transform: translateY(-70vh) scale(1.2); opacity: 0; } /* LÃºc káº¿t thÃºc: Bay lÃªn cao 70% mÃ n hÃ¬nh, phÃ³ng to má»™t chÃºt rá»“i má» Ä‘i */
    }
    #final-message-container {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; /* Phá»§ kÃ­n mÃ n hÃ¬nh */
        display: flex; justify-content: center; align-items: center; /* CÄƒn giá»¯a */
        z-index: 4; /* Náº±m trÃªn lá»›p hoa */
        opacity: 0; /* Máº·c Ä‘á»‹nh áº©n */
        transition: opacity 2s ease-in; /* Hiá»‡u á»©ng hiá»‡n ra trong 2s */
    }
    #final-message h1 {
        font-size: clamp(2.8em, 8vw, 4.5em); /* KÃ­ch thÆ°á»›c chá»¯ linh hoáº¡t */
        color: white;
        text-shadow: 0 0 15px #ff69b4, 0 0 25px #ff69b4; /* Hiá»‡u á»©ng phÃ¡t sÃ¡ng máº¡nh hÆ¡n */
        text-align: center;
    }
</style>
<script>
    // === Giai Ä‘oáº¡n 1: Láº¥y cÃ¡c pháº§n tá»­ HTML cáº§n Ä‘iá»u khiá»ƒn ===
    const startScreen = document.getElementById('start-screen');
    const startButton = document.getElementById('start-button');
    const music = document.getElementById('background-music');

    // === Giai Ä‘oáº¡n 2: Äá»‹nh nghÄ©a cÃ¡c hÃ m chá»©c nÄƒng ===

    // HÃ m nÃ y Ä‘Æ°á»£c gá»i khi ngÆ°á»i dÃ¹ng nháº¥n nÃºt "Báº¯t Ä‘áº§u"
    function startExperience() {
        music.play(); // PhÃ¡t nháº¡c
        startScreen.style.transition = 'opacity 0.5s'; // ThÃªm hiá»‡u á»©ng má» cho mÃ n hÃ¬nh chá»
        startScreen.style.opacity = '0'; // LÃ m má» mÃ n hÃ¬nh chá» Ä‘i
        // Äáº·t má»™t bá»™ Ä‘áº¿m thá»i gian: sau 500ms (khi Ä‘Ã£ má» háº³n), áº©n hoÃ n toÃ n mÃ n hÃ¬nh chá» Ä‘á»ƒ khÃ´ng che cÃ¡c pháº§n tá»­ khÃ¡c
        setTimeout(() => {
            startScreen.style.display = 'none';
        }, 500);
        runVisualTimeline(); // Gá»i hÃ m cháº¡y chuá»—i hiá»‡u á»©ng chÃ­nh
    }

    // Gáº¯n sá»± kiá»‡n "click" vÃ o nÃºt báº¯t Ä‘áº§u. Khi click, nÃ³ sáº½ cháº¡y hÃ m startExperience
    startButton.addEventListener('click', startExperience);

    // --- CÃ¡c hÃ m cho hiá»‡u á»©ng hÃ¬nh áº£nh ---
    const canvas = document.getElementById('matrix-canvas'); // Láº¥y canvas
    const ctx = canvas.getContext('2d'); // Láº¥y "bÃºt váº½" 2D
    canvas.width = window.innerWidth; // Äáº·t chiá»u rá»™ng canvas báº±ng chiá»u rá»™ng cá»­a sá»•
    canvas.height = window.innerHeight; // Äáº·t chiá»u cao canvas báº±ng chiá»u cao cá»­a sá»•
    const characters = 'â¤'; // KÃ½ tá»± Ä‘á»ƒ váº½
    const fontSize = 18;
    const columns = Math.floor(canvas.width / fontSize); // TÃ­nh sá»‘ cá»™t trÃ¡i tim dá»±a trÃªn chiá»u rá»™ng mÃ n hÃ¬nh
    const drops = Array(columns).fill(1); // Táº¡o má»™t máº£ng Ä‘á»ƒ lÆ°u vá»‹ trÃ­ cá»§a má»—i cá»™t trÃ¡i tim
    let matrixInterval; // Biáº¿n Ä‘á»ƒ lÆ°u ID cá»§a vÃ²ng láº·p váº½ Matrix, Ä‘á»ƒ sau nÃ y cÃ³ thá»ƒ dá»«ng nÃ³

    // HÃ m váº½ hiá»‡u á»©ng Matrix
    function drawMatrix() {
        ctx.fillStyle = 'rgba(255, 221, 225, 0.1)'; // Chá»n mÃ u ná»n há»“ng má»
        ctx.fillRect(0, 0, canvas.width, canvas.height); // Váº½ má»™t lá»›p ná»n má» lÃªn toÃ n bá»™ canvas -> táº¡o hiá»‡u á»©ng "Ä‘uÃ´i"
        ctx.fillStyle = '#f85888'; // Chá»n mÃ u cho trÃ¡i tim
        ctx.font = `${fontSize}px Arial`; // Äáº·t font vÃ  kÃ­ch thÆ°á»›c chá»¯
        // Láº·p qua tá»«ng cá»™t
        for (let i = 0; i < drops.length; i++) {
            ctx.fillText(characters, i * fontSize, drops[i] * fontSize); // Váº½ trÃ¡i tim táº¡i vá»‹ trÃ­ hiá»‡n táº¡i cá»§a cá»™t
            // Náº¿u trÃ¡i tim rÆ¡i xuá»‘ng Ä‘Ã¡y vÃ  cÃ³ má»™t xÃ¡c suáº¥t ngáº«u nhiÃªn, Ä‘Æ°a nÃ³ trá»Ÿ láº¡i Ä‘á»‰nh
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++; // Di chuyá»ƒn vá»‹ trÃ­ cá»§a trÃ¡i tim xuá»‘ng dÆ°á»›i cho láº§n váº½ tiáº¿p theo
        }
    }

    const flowerContainer = document.getElementById('flower-container');
    const flowers = ['ğŸŒ¸', 'ğŸŒº', 'ğŸŒ·', 'ğŸŒ»', 'ğŸŒ¼']; // Máº£ng chá»©a cÃ¡c icon hoa
    // HÃ m táº¡o ra má»™t bÃ´ng hoa
    function createFlower() {
        const flower = document.createElement('div'); // Táº¡o má»™t tháº» <div> má»›i
        flower.classList.add('flower'); // ThÃªm class 'flower' Ä‘á»ƒ cÃ³ style CSS
        flower.innerText = flowers[Math.floor(Math.random() * flowers.length)]; // Chá»n ngáº«u nhiÃªn má»™t icon hoa
        flower.style.left = `${Math.random() * 100}vw`; // Äáº·t vá»‹ trÃ­ ngang ngáº«u nhiÃªn
        flower.style.animationDuration = `${Math.random() * 3 + 4}s`; // Äáº·t thá»i gian animation ngáº«u nhiÃªn
        flower.style.animationDelay = `${Math.random() * 2}s`; // Äáº·t Ä‘á»™ trá»… animation ngáº«u nhiÃªn
        flowerContainer.appendChild(flower); // ThÃªm bÃ´ng hoa vÃ o trang web
        setTimeout(() => flower.remove(), 7000); // Sau 7s, xÃ³a bÃ´ng hoa khá»i trang Ä‘á»ƒ tiáº¿t kiá»‡m bá»™ nhá»›
    }

    // === Giai Ä‘oáº¡n 3: HÃ m Ä‘iá»u khiá»ƒn chuá»—i sá»± kiá»‡n chÃ­nh ===
    function runVisualTimeline() {
        // Báº¯t Ä‘áº§u váº½ Matrix, láº·p láº¡i má»—i 50ms
        matrixInterval = setInterval(drawMatrix, 50);

        const messages = document.querySelectorAll('.message-box p');
        const messageBox = document.querySelector('.message-box');
        const finalMessageContainer = document.getElementById('final-message-container');
        let totalTime = 500; // Thá»i gian chá» ban Ä‘áº§u
        const messageInterval = 1800; // Khoáº£ng cÃ¡ch thá»i gian giá»¯a cÃ¡c dÃ²ng chá»¯

        // 1. LÃªn lá»‹ch hiá»ƒn thá»‹ láº§n lÆ°á»£t cÃ¡c dÃ²ng chá»¯
        messages.forEach(p => {
            setTimeout(() => p.classList.add('visible'), totalTime); // ThÃªm class 'visible' Ä‘á»ƒ hiá»‡n chá»¯
            totalTime += messageInterval; // TÄƒng tá»•ng thá»i gian cho dÃ²ng chá»¯ tiáº¿p theo
        });

        // 2. Chá» thÃªm 3s Ä‘á»ƒ ngÆ°á»i dÃ¹ng Ä‘á»c chá»¯ cuá»‘i
        totalTime += 3000;

        // 3. LÃªn lá»‹ch lÃ m má» cáº£nh ban Ä‘áº§u
        setTimeout(() => {
            messageBox.classList.add('fade-out');
            canvas.classList.add('fade-out');
        }, totalTime);

        // 4. LÃªn lá»‹ch dá»«ng háº³n viá»‡c váº½ Matrix (sau khi nÃ³ Ä‘Ã£ má» Ä‘i)
        setTimeout(() => clearInterval(matrixInterval), totalTime + 1500);

        // 5. LÃªn lá»‹ch báº¯t Ä‘áº§u táº¡o hoa
        setTimeout(() => {
            let flowerCreationInterval = setInterval(createFlower, 200); // Táº¡o hoa liÃªn tá»¥c má»—i 200ms
            setTimeout(() => clearInterval(flowerCreationInterval), 10000); // Dá»«ng viá»‡c táº¡o hoa sau 10s
        }, totalTime + 500);

        // 6. LÃªn lá»‹ch hiá»ƒn thá»‹ dÃ²ng chá»¯ cuá»‘i cÃ¹ng
        setTimeout(() => {
            finalMessageContainer.style.opacity = '1';
        }, totalTime + 2500);
    }
</script>
